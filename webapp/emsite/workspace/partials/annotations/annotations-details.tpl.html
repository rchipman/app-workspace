<a ui-sref="app.annotations">Back to Annotations</a>
{{currentAnnotation}}

<!-- fabric formatting stuff... probably does not belong here -->

<div id="bd-wrapper">
    <h2><span>Annotation Workspace</span></h2>
    {{currentAnnotation}}

    <canvas class="coveredImage" id="annotation_canvas" width="800" height="600" style="border:1px solid #aaa"></canvas>
    <!--<div class="outsideWrapper">
    	<div class="insideWrapper">

    	</div>
	</div>-->

    <ul>
        <li><strong>Events:</strong></li>
        <li ng-repeat="event in events">{{event.id}}: {{event.text}}</li>
    </ul>

    <div style="display: inline-block; margin-left: 10px">
        <button id="drawing-mode" class="btn btn-info">Cancel drawing mode</button>
        <br>
        <button id="clear-canvas" class="btn btn-info">Clear</button>
        <br>
        <!-- add new button to create image flattening -->
        <button id="image-to-json" class="btn btn-info">Canvas to JSON</button>
        <br>

        <div id="drawing-mode-options">
            <label for="drawing-mode-selector">Mode:</label>
            <select id="drawing-mode-selector">
                <option>Pencil</option>
                <option>Circle</option>
            </select>
            <br>

            <label for="shape-mode-selector">Shapes:</label>
            <select id="shape-mode-selector" value="Circle">
            	<option>Circle</option>
            	<option>Rectangle</option>
            </select>
            <br>

            <label for="drawing-line-width">Line width:</label>
            <span class="info">5</span>
            <!-- I don't think this even worked... ? -->
            <input type="range" value="5" min="0" max="150" id="drawing-line-width">
            <br>

            <label for="drawing-color">Line color:</label>
            <input type="color" value="#005E7A" id="drawing-color">
            <br>

            <label for="drawing-shadow-color">Shadow color:</label>
            <input type="color" value="#005E7A" id="drawing-shadow-color">
            <br>

            <label for="drawing-shadow-width">Shadow width:</label>
            <span class="info">0</span>
            <input type="range" value="0" min="0" max="50" id="drawing-shadow-width">
            <br>

            <label for="drawing-shadow-offset">Shadow offset:</label>
            <span class="info">0</span>
            <input type="range" value="0" min="0" max="50" id="drawing-shadow-offset">
            <br>
        </div>
    </div>
</div>

<!-- doesn't really work but placeholder I guess... apparently this table should be below the canvas-->
<div>
	Collection assets
    <div><input type="text" ng-model="tableFilter"></div>
    <button ng-click="tableParams.sorting({})" class="btn btn-default pull-right">Clear sorting</button>
    <p><strong>Sorting:</strong> {{tableParams.sorting()|json}}</p>
    <table ng-table="tableParams" class="table">
        <!-- this should be grabbing the data attribute of the tableParams from $scope -->
        <tr ng-repeat="element in $data | filter: tableFilter">
          <td data-title="'Updates'" sortable="'annotation.hasRecentActivity'">
              <span ng-if="element.annotation.hasRecentActivity">New Notes!</span>
          </td>
          <td data-title="'Project'" sortable="'project.name'">
              <a ui-sref="app.projects.details({projectID: element.project.id})">{{element.project.name}}</a>
          </td>
          <td data-title="'Annotation'" sortable="'annotation.name'">
              <a ui-sref="app.annotations.details({annotationID: element.annotation.id})">{{element.annotation.name}}</a>
          </td>
          <td data-title="'Description'" sortable="'annotation.description'">
              <a ui-sref="app.annotations.details({annotationID: element.annotation.id})">{{element.annotation.description}}</a>
          </td>
          <td data-title="'Owner'" sortable="'annotation.owner'">
              <!-- maybe later use ID for linking to profiles -->
              {{element.annotation.owner}}
          </td>
          <td data-title="'Status'" sortable="'annotation.status'">
              {{element.annotation.status}}
          </td>
          <td data-title="'Created'" sortable="'annotation.createTime'">
              {{element.annotation.createTime}}
          </td>
          <td data-title="'Updated'" sortable="'annotation.lastUpdateTime'">
              {{element.annotation.lastUpdateTime}}
          </td></tr>
    </table>
</div>
